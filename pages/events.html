<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Events</title>
    <script src="../javascripts/navbar.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <link rel="stylesheet" href="../css/navbar.css" />
    <link rel="stylesheet" href="../css/table.css" />
</head>
<body>
<!--Navigation Bar ## START ##-->
<div class="navigation">
    <ul class="nav">
        <li>
            <a href="events.html">myRecruits</a>
        </li>
        <li>
            <a href="newrecruit.html">newRecruit</a>
        </li>
    </ul>
</div>
<!--Navigation Bar ## END ##-->
<table id="events_table" border='1'>
    <tr>
        <th>Name</th>
        <th>Details</th>
        <th>Start Date</th>
        <th>End Date</th>
        <th>Location</th>
    </tr>
</table>
<script>
    $(document).ready(function () {
        $.getJSON( 'http://localhost:8080/event/v1')
            .done(function( data ) {
                    console.log(data);
                    var trHTML = '';
                $.each( data, function( i, event ) {
                    trHTML += '<tr><td><a href="eventdetails.html?event=' + event._id + '">' + event._id + '</a></td>' +
                                  '<td>' + event.details + '</td>' +
                                  '<td>' + event.start_date + '</td>' +
                                  '<td>' + event.end_date + '</td>' +
                                  '<td>' + event.location + '</td>' +
                              '</tr>';
                });
                    $('#events_table').append(trHTML);
            });
    });

</script>
</body>
</html>
